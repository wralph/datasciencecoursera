## Codebook for the script "run_analysis.R" provided in this github repository

Script Author: Ralph Waldenmaier

Description (provided by the JHU on coursera):
The purpose of this project is to demonstrate your ability to collect, work with, and clean a data set. 
The goal is to prepare tidy data that can be used for later analysis. You will be graded by your peers 
on a series of yes/no questions related to the project. You will be required to submit: 1) a tidy data 
set as described below, 2) a link to a Github repository with your script for performing the analysis, 
and 3) a code book that describes the variables, the data, and any transformations or work that you 
performed to clean up the data called CodeBook.md. You should also include a README.md in the repo 
with your scripts. This repo explains how all of the scripts work and how they are connected.  

One of the most exciting areas in all of data science right now is wearable computing - see for example this article . Companies like Fitbit, Nike, and Jawbone Up are racing to develop the most advanced algorithms to attract new users. The data linked to from the course website represent data collected from the accelerometers from the Samsung Galaxy S smartphone. A full description is available at the site where the data was obtained: 

http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones 

Here are the data for the project: 

https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip 

 You should create one R script called run_analysis.R that does the following. 
Merges the training and the test sets to create one data set.
Extracts only the measurements on the mean and standard deviation for each measurement. 
Uses descriptive activity names to name the activities in the data set
Appropriately labels the data set with descriptive variable names. 
From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.



### Required packages
First of all we need to ensure that the required packages for this script are installed and loaded. 
In this script data.table and reshape2 is used.
```r
if (!require("data.table")) {
  install.packages("data.table")
}

if (!require("reshape2")) {
  install.packages("reshape2")
}

require("data.table")
require("reshape2")
```

### Define the name of the zipped dataset
```r
zippedDataset <- "dataset.zip"
```

Now in case the zipped dataset is not existing, it needs to be downloaded to be used later on.

```r
if(!file.exists(zippedDataset))
{
  #### download dataset
  zip <- "https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
  download.file(zip, zippedDataset)
  rm(zip)  
}
```

## 1. Merges the training and the test sets to create one data set.

The first operations are performed on the previously downloaded dataset. In this step, we want to read the required
data and merge them together.


### Obtaining feature information

The description of the features is loaded to be used for a later labelling.
The whole script is not working on an unzipped version of the dataset but does that on-the-fly using unz.

```r
features <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/features.txt"), 
                                  col.names=c("id", "feature"), 
                                  stringsAsFactors=FALSE))

```

The structure is as following.

```r
str(features)
Classes ‘data.table’ and 'data.frame':	561 obs. of  2 variables:
 $ id     : int  1 2 3 4 5 6 7 8 9 10 ...
 $ feature: chr  "tBodyAcc-mean()-X" "tBodyAcc-mean()-Y" "tBodyAcc-mean()-Z" "tBodyAcc-std()-X" ...
```
                                  
								  
### Reading test data

First the test data will be obtained and prepared for merge

#### Reading measurements

```r
data.test.x <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/test/X_test.txt")))
```

```r
> str(data.test.x)
Classes ‘data.table’ and 'data.frame':	2947 obs. of  561 variables:
 $ V1  : num  0.257 0.286 0.275 0.27 0.275 ...
 $ V2  : num  -0.0233 -0.0132 -0.0261 -0.0326 -0.0278 ...
 $ V3  : num  -0.0147 -0.1191 -0.1182 -0.1175 -0.1295 ...
 $ V4  : num  -0.938 -0.975 -0.994 -0.995 -0.994 ...
 $ V5  : num  -0.92 -0.967 -0.97 -0.973 -0.967 ...
 $ V6  : num  -0.668 -0.945 -0.963 -0.967 -0.978 ...
 $ V7  : num  -0.953 -0.987 -0.994 -0.995 -0.994 ...
 $ V8  : num  -0.925 -0.968 -0.971 -0.974 -0.966 ...
 $ V9  : num  -0.674 -0.946 -0.963 -0.969 -0.977 ...
 $ V10 : num  -0.894 -0.894 -0.939 -0.939 -0.939 ...
 $ V11 : num  -0.555 -0.555 -0.569 -0.569 -0.561 ...
 $ V12 : num  -0.466 -0.806 -0.799 -0.799 -0.826 ...
 $ V13 : num  0.717 0.768 0.848 0.848 0.849 ...
 $ V14 : num  0.636 0.684 0.668 0.668 0.671 ...
 $ V15 : num  0.789 0.797 0.822 0.822 0.83 ...
 $ V16 : num  -0.878 -0.969 -0.977 -0.974 -0.975 ...
 $ V17 : num  -0.998 -1 -1 -1 -1 ...
 $ V18 : num  -0.998 -1 -1 -0.999 -0.999 ...
 $ V19 : num  -0.934 -0.998 -0.999 -0.999 -0.999 ...
 $ V20 : num  -0.976 -0.994 -0.993 -0.995 -0.993 ...
 $ V21 : num  -0.95 -0.974 -0.974 -0.979 -0.967 ...
 $ V22 : num  -0.83 -0.951 -0.965 -0.97 -0.976 ...
 $ V23 : num  -0.168 -0.302 -0.618 -0.75 -0.591 ...
 $ V24 : num  -0.379 -0.348 -0.695 -0.899 -0.74 ...
 $ V25 : num  0.246 -0.405 -0.537 -0.554 -0.799 ...
 $ V26 : num  0.521 0.507 0.242 0.175 0.116 ...
 $ V27 : num  -0.4878 -0.1565 -0.115 -0.0513 -0.0289 ...
 $ V28 : num  0.4823 0.0407 0.0327 0.0342 -0.0328 ...
 $ V29 : num  -0.0455 0.273 0.1924 0.1536 0.2943 ...
 $ V30 : num  0.21196 0.19757 -0.01194 0.03077 0.00063 ...
 $ V31 : num  -0.1349 -0.1946 -0.0634 -0.1293 -0.0453 ...
 $ V32 : num  0.131 0.411 0.471 0.446 0.168 ...
 $ V33 : num  -0.0142 -0.3405 -0.5074 -0.4195 -0.0682 ...
 $ V34 : num  -0.106 0.0776 0.1885 0.2715 0.0744 ...
 $ V35 : num  0.0735 -0.084 -0.2316 -0.2258 0.0271 ...
 $ V36 : num  -0.1715 0.0353 0.6321 0.4164 -0.1459 ...
 $ V37 : num  0.0401 -0.0101 -0.5507 -0.2864 -0.0502 ...
 $ V38 : num  0.077 -0.105 0.3057 -0.0638 0.2352 ...
 $ V39 : num  -0.491 -0.429 -0.324 -0.167 0.29 ...
 $ V40 : num  -0.709 0.399 0.28 0.545 0.458 ...
 $ V41 : num  0.936 0.927 0.93 0.929 0.927 ...
 $ V42 : num  -0.283 -0.289 -0.288 -0.293 -0.303 ...
 $ V43 : num  0.115 0.153 0.146 0.143 0.138 ...
 $ V44 : num  -0.925 -0.989 -0.996 -0.993 -0.996 ...
 $ V45 : num  -0.937 -0.984 -0.988 -0.97 -0.971 ...
 $ V46 : num  -0.564 -0.965 -0.982 -0.992 -0.968 ...
 $ V47 : num  -0.93 -0.989 -0.996 -0.993 -0.996 ...
 $ V48 : num  -0.938 -0.983 -0.989 -0.971 -0.971 ...
 $ V49 : num  -0.606 -0.965 -0.98 -0.993 -0.969 ...
 $ V50 : num  0.906 0.856 0.856 0.856 0.854 ...
 $ V51 : num  -0.279 -0.305 -0.305 -0.305 -0.313 ...
 $ V52 : num  0.153 0.153 0.139 0.136 0.134 ...
 $ V53 : num  0.944 0.944 0.949 0.947 0.946 ...
 $ V54 : num  -0.262 -0.262 -0.262 -0.273 -0.279 ...
 $ V55 : num  -0.0762 0.149 0.145 0.1421 0.1309 ...
 $ V56 : num  -0.0178 0.0577 0.0406 0.0461 0.0554 ...
 $ V57 : num  0.829 0.806 0.812 0.809 0.804 ...
 $ V58 : num  -0.865 -0.858 -0.86 -0.854 -0.843 ...
 $ V59 : num  -0.968 -0.957 -0.961 -0.963 -0.965 ...
 $ V60 : num  -0.95 -0.988 -0.996 -0.992 -0.996 ...
 $ V61 : num  -0.946 -0.982 -0.99 -0.973 -0.972 ...
 $ V62 : num  -0.76 -0.971 -0.979 -0.996 -0.969 ...
 $ V63 : num  -0.425 -0.729 -0.823 -0.823 -0.83 ...
 $ V64 : num  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...
 $ V65 : num  0.219 -0.465 -0.53 -0.7 -0.302 ...
 $ V66 : num  -0.43 -0.51 -0.295 -0.343 -0.482 ...
 $ V67 : num  0.431 0.525 0.305 0.359 0.539 ...
 $ V68 : num  -0.432 -0.54 -0.315 -0.375 -0.596 ...
 $ V69 : num  0.433 0.554 0.326 0.392 0.655 ...
 $ V70 : num  -0.795 -0.746 -0.232 -0.233 -0.493 ...
 $ V71 : num  0.781 0.733 0.169 0.176 0.463 ...
 $ V72 : num  -0.78 -0.737 -0.155 -0.169 -0.465 ...
 $ V73 : num  0.785 0.749 0.164 0.185 0.483 ...
 $ V74 : num  -0.984 -0.845 -0.429 -0.297 -0.536 ...
 $ V75 : num  0.987 0.869 0.44 0.304 0.544 ...
 $ V76 : num  -0.989 -0.893 -0.451 -0.311 -0.553 ...
 $ V77 : num  0.988 0.913 0.458 0.315 0.559 ...
 $ V78 : num  0.981 0.945 0.548 0.986 0.998 ...
 $ V79 : num  -0.996 -0.911 -0.335 0.653 0.916 ...
 $ V80 : num  -0.96 -0.739 0.59 0.747 0.929 ...
 $ V81 : num  0.072 0.0702 0.0694 0.0749 0.0784 ...
 $ V82 : num  0.04575 -0.01788 -0.00491 0.03227 0.02228 ...
 $ V83 : num  -0.10604 -0.00172 -0.01367 0.01214 0.00275 ...
 $ V84 : num  -0.907 -0.949 -0.991 -0.991 -0.992 ...
 $ V85 : num  -0.938 -0.973 -0.971 -0.973 -0.979 ...
 $ V86 : num  -0.936 -0.978 -0.973 -0.976 -0.987 ...
 $ V87 : num  -0.916 -0.969 -0.991 -0.99 -0.991 ...
 $ V88 : num  -0.937 -0.974 -0.973 -0.973 -0.977 ...
 $ V89 : num  -0.949 -0.979 -0.975 -0.978 -0.985 ...
 $ V90 : num  -0.903 -0.915 -0.992 -0.992 -0.994 ...
 $ V91 : num  -0.95 -0.981 -0.975 -0.975 -0.986 ...
 $ V92 : num  -0.891 -0.978 -0.962 -0.962 -0.986 ...
 $ V93 : num  0.898 0.898 0.994 0.994 0.994 ...
 $ V94 : num  0.95 0.968 0.976 0.976 0.98 ...
 $ V95 : num  0.946 0.966 0.966 0.97 0.985 ...
 $ V96 : num  -0.931 -0.974 -0.982 -0.983 -0.987 ...
 $ V97 : num  -0.995 -0.998 -1 -1 -1 ...
 $ V98 : num  -0.997 -0.999 -0.999 -0.999 -1 ...
 $ V99 : num  -0.997 -0.999 -0.999 -0.999 -1 ...
  [list output truncated]
```

#### Specifying column names
The loaded data is labelled using the features information from the step before.

```r
setnames(data.test.x, as.character(features$feature))
```

The resulting shape is like the following.

```r
str(data.test.x)
Classes ‘data.table’ and 'data.frame':	2947 obs. of  561 variables:
 $ tBodyAcc-mean()-X                   : num  0.257 0.286 0.275 0.27 0.275 ...
 $ tBodyAcc-mean()-Y                   : num  -0.0233 -0.0132 -0.0261 -0.0326 -0.0278 ...
 $ tBodyAcc-mean()-Z                   : num  -0.0147 -0.1191 -0.1182 -0.1175 -0.1295 ...
 $ tBodyAcc-std()-X                    : num  -0.938 -0.975 -0.994 -0.995 -0.994 ...
 $ tBodyAcc-std()-Y                    : num  -0.92 -0.967 -0.97 -0.973 -0.967 ...
 $ tBodyAcc-std()-Z                    : num  -0.668 -0.945 -0.963 -0.967 -0.978 ...
 $ tBodyAcc-mad()-X                    : num  -0.953 -0.987 -0.994 -0.995 -0.994 ...
 $ tBodyAcc-mad()-Y                    : num  -0.925 -0.968 -0.971 -0.974 -0.966 ...
 $ tBodyAcc-mad()-Z                    : num  -0.674 -0.946 -0.963 -0.969 -0.977 ...
 $ tBodyAcc-max()-X                    : num  -0.894 -0.894 -0.939 -0.939 -0.939 ...
 $ tBodyAcc-max()-Y                    : num  -0.555 -0.555 -0.569 -0.569 -0.561 ...
 $ tBodyAcc-max()-Z                    : num  -0.466 -0.806 -0.799 -0.799 -0.826 ...
 $ tBodyAcc-min()-X                    : num  0.717 0.768 0.848 0.848 0.849 ...
 $ tBodyAcc-min()-Y                    : num  0.636 0.684 0.668 0.668 0.671 ...
 $ tBodyAcc-min()-Z                    : num  0.789 0.797 0.822 0.822 0.83 ...
 $ tBodyAcc-sma()                      : num  -0.878 -0.969 -0.977 -0.974 -0.975 ...
 $ tBodyAcc-energy()-X                 : num  -0.998 -1 -1 -1 -1 ...
 $ tBodyAcc-energy()-Y                 : num  -0.998 -1 -1 -0.999 -0.999 ...
 $ tBodyAcc-energy()-Z                 : num  -0.934 -0.998 -0.999 -0.999 -0.999 ...
 $ tBodyAcc-iqr()-X                    : num  -0.976 -0.994 -0.993 -0.995 -0.993 ...
 $ tBodyAcc-iqr()-Y                    : num  -0.95 -0.974 -0.974 -0.979 -0.967 ...
 $ tBodyAcc-iqr()-Z                    : num  -0.83 -0.951 -0.965 -0.97 -0.976 ...
 $ tBodyAcc-entropy()-X                : num  -0.168 -0.302 -0.618 -0.75 -0.591 ...
 $ tBodyAcc-entropy()-Y                : num  -0.379 -0.348 -0.695 -0.899 -0.74 ...
 $ tBodyAcc-entropy()-Z                : num  0.246 -0.405 -0.537 -0.554 -0.799 ...
 $ tBodyAcc-arCoeff()-X,1              : num  0.521 0.507 0.242 0.175 0.116 ...
 $ tBodyAcc-arCoeff()-X,2              : num  -0.4878 -0.1565 -0.115 -0.0513 -0.0289 ...
 $ tBodyAcc-arCoeff()-X,3              : num  0.4823 0.0407 0.0327 0.0342 -0.0328 ...
 $ tBodyAcc-arCoeff()-X,4              : num  -0.0455 0.273 0.1924 0.1536 0.2943 ...
 $ tBodyAcc-arCoeff()-Y,1              : num  0.21196 0.19757 -0.01194 0.03077 0.00063 ...
 $ tBodyAcc-arCoeff()-Y,2              : num  -0.1349 -0.1946 -0.0634 -0.1293 -0.0453 ...
 $ tBodyAcc-arCoeff()-Y,3              : num  0.131 0.411 0.471 0.446 0.168 ...
 $ tBodyAcc-arCoeff()-Y,4              : num  -0.0142 -0.3405 -0.5074 -0.4195 -0.0682 ...
 $ tBodyAcc-arCoeff()-Z,1              : num  -0.106 0.0776 0.1885 0.2715 0.0744 ...
 $ tBodyAcc-arCoeff()-Z,2              : num  0.0735 -0.084 -0.2316 -0.2258 0.0271 ...
 $ tBodyAcc-arCoeff()-Z,3              : num  -0.1715 0.0353 0.6321 0.4164 -0.1459 ...
 $ tBodyAcc-arCoeff()-Z,4              : num  0.0401 -0.0101 -0.5507 -0.2864 -0.0502 ...
 $ tBodyAcc-correlation()-X,Y          : num  0.077 -0.105 0.3057 -0.0638 0.2352 ...
 $ tBodyAcc-correlation()-X,Z          : num  -0.491 -0.429 -0.324 -0.167 0.29 ...
 $ tBodyAcc-correlation()-Y,Z          : num  -0.709 0.399 0.28 0.545 0.458 ...
 $ tGravityAcc-mean()-X                : num  0.936 0.927 0.93 0.929 0.927 ...
 $ tGravityAcc-mean()-Y                : num  -0.283 -0.289 -0.288 -0.293 -0.303 ...
 $ tGravityAcc-mean()-Z                : num  0.115 0.153 0.146 0.143 0.138 ...
 $ tGravityAcc-std()-X                 : num  -0.925 -0.989 -0.996 -0.993 -0.996 ...
 $ tGravityAcc-std()-Y                 : num  -0.937 -0.984 -0.988 -0.97 -0.971 ...
 $ tGravityAcc-std()-Z                 : num  -0.564 -0.965 -0.982 -0.992 -0.968 ...
 $ tGravityAcc-mad()-X                 : num  -0.93 -0.989 -0.996 -0.993 -0.996 ...
 $ tGravityAcc-mad()-Y                 : num  -0.938 -0.983 -0.989 -0.971 -0.971 ...
 $ tGravityAcc-mad()-Z                 : num  -0.606 -0.965 -0.98 -0.993 -0.969 ...
 $ tGravityAcc-max()-X                 : num  0.906 0.856 0.856 0.856 0.854 ...
 $ tGravityAcc-max()-Y                 : num  -0.279 -0.305 -0.305 -0.305 -0.313 ...
 $ tGravityAcc-max()-Z                 : num  0.153 0.153 0.139 0.136 0.134 ...
 $ tGravityAcc-min()-X                 : num  0.944 0.944 0.949 0.947 0.946 ...
 $ tGravityAcc-min()-Y                 : num  -0.262 -0.262 -0.262 -0.273 -0.279 ...
 $ tGravityAcc-min()-Z                 : num  -0.0762 0.149 0.145 0.1421 0.1309 ...
 $ tGravityAcc-sma()                   : num  -0.0178 0.0577 0.0406 0.0461 0.0554 ...
 $ tGravityAcc-energy()-X              : num  0.829 0.806 0.812 0.809 0.804 ...
 $ tGravityAcc-energy()-Y              : num  -0.865 -0.858 -0.86 -0.854 -0.843 ...
 $ tGravityAcc-energy()-Z              : num  -0.968 -0.957 -0.961 -0.963 -0.965 ...
 $ tGravityAcc-iqr()-X                 : num  -0.95 -0.988 -0.996 -0.992 -0.996 ...
 $ tGravityAcc-iqr()-Y                 : num  -0.946 -0.982 -0.99 -0.973 -0.972 ...
 $ tGravityAcc-iqr()-Z                 : num  -0.76 -0.971 -0.979 -0.996 -0.969 ...
 $ tGravityAcc-entropy()-X             : num  -0.425 -0.729 -0.823 -0.823 -0.83 ...
 $ tGravityAcc-entropy()-Y             : num  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...
 $ tGravityAcc-entropy()-Z             : num  0.219 -0.465 -0.53 -0.7 -0.302 ...
 $ tGravityAcc-arCoeff()-X,1           : num  -0.43 -0.51 -0.295 -0.343 -0.482 ...
 $ tGravityAcc-arCoeff()-X,2           : num  0.431 0.525 0.305 0.359 0.539 ...
 $ tGravityAcc-arCoeff()-X,3           : num  -0.432 -0.54 -0.315 -0.375 -0.596 ...
 $ tGravityAcc-arCoeff()-X,4           : num  0.433 0.554 0.326 0.392 0.655 ...
 $ tGravityAcc-arCoeff()-Y,1           : num  -0.795 -0.746 -0.232 -0.233 -0.493 ...
 $ tGravityAcc-arCoeff()-Y,2           : num  0.781 0.733 0.169 0.176 0.463 ...
 $ tGravityAcc-arCoeff()-Y,3           : num  -0.78 -0.737 -0.155 -0.169 -0.465 ...
 $ tGravityAcc-arCoeff()-Y,4           : num  0.785 0.749 0.164 0.185 0.483 ...
 $ tGravityAcc-arCoeff()-Z,1           : num  -0.984 -0.845 -0.429 -0.297 -0.536 ...
 $ tGravityAcc-arCoeff()-Z,2           : num  0.987 0.869 0.44 0.304 0.544 ...
 $ tGravityAcc-arCoeff()-Z,3           : num  -0.989 -0.893 -0.451 -0.311 -0.553 ...
 $ tGravityAcc-arCoeff()-Z,4           : num  0.988 0.913 0.458 0.315 0.559 ...
 $ tGravityAcc-correlation()-X,Y       : num  0.981 0.945 0.548 0.986 0.998 ...
 $ tGravityAcc-correlation()-X,Z       : num  -0.996 -0.911 -0.335 0.653 0.916 ...
 $ tGravityAcc-correlation()-Y,Z       : num  -0.96 -0.739 0.59 0.747 0.929 ...
 $ tBodyAccJerk-mean()-X               : num  0.072 0.0702 0.0694 0.0749 0.0784 ...
 $ tBodyAccJerk-mean()-Y               : num  0.04575 -0.01788 -0.00491 0.03227 0.02228 ...
 $ tBodyAccJerk-mean()-Z               : num  -0.10604 -0.00172 -0.01367 0.01214 0.00275 ...
 $ tBodyAccJerk-std()-X                : num  -0.907 -0.949 -0.991 -0.991 -0.992 ...
 $ tBodyAccJerk-std()-Y                : num  -0.938 -0.973 -0.971 -0.973 -0.979 ...
 $ tBodyAccJerk-std()-Z                : num  -0.936 -0.978 -0.973 -0.976 -0.987 ...
 $ tBodyAccJerk-mad()-X                : num  -0.916 -0.969 -0.991 -0.99 -0.991 ...
 $ tBodyAccJerk-mad()-Y                : num  -0.937 -0.974 -0.973 -0.973 -0.977 ...
 $ tBodyAccJerk-mad()-Z                : num  -0.949 -0.979 -0.975 -0.978 -0.985 ...
 $ tBodyAccJerk-max()-X                : num  -0.903 -0.915 -0.992 -0.992 -0.994 ...
 $ tBodyAccJerk-max()-Y                : num  -0.95 -0.981 -0.975 -0.975 -0.986 ...
 $ tBodyAccJerk-max()-Z                : num  -0.891 -0.978 -0.962 -0.962 -0.986 ...
 $ tBodyAccJerk-min()-X                : num  0.898 0.898 0.994 0.994 0.994 ...
 $ tBodyAccJerk-min()-Y                : num  0.95 0.968 0.976 0.976 0.98 ...
 $ tBodyAccJerk-min()-Z                : num  0.946 0.966 0.966 0.97 0.985 ...
 $ tBodyAccJerk-sma()                  : num  -0.931 -0.974 -0.982 -0.983 -0.987 ...
 $ tBodyAccJerk-energy()-X             : num  -0.995 -0.998 -1 -1 -1 ...
 $ tBodyAccJerk-energy()-Y             : num  -0.997 -0.999 -0.999 -0.999 -1 ...
 $ tBodyAccJerk-energy()-Z             : num  -0.997 -0.999 -0.999 -0.999 -1 ...
  [list output truncated]
```


#### Reading activities

Reading the activities describing the actual activity per record.

```r
data.test.y <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/test/y_test.txt")))
```

The raw structure is shown below.

```r
str(data.test.y)
Classes ‘data.table’ and 'data.frame':	2947 obs. of  1 variable:
 $ V1: int  5 5 5 5 5 5 5 5 5 5 ...
```

To make it more readable, lets provide a readable name.

```r
setnames(data.test.y, "activity_id")
```

#### Reading subjects

The last step per raw part is obtaining the subject information, describing who was performing the actual
operation per record.

```r
data.test.subject <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/test/subject_test.txt")))
```

Also here we need to have readable names.

```r
setnames(data.test.subject,"subject")
```

The resulting shape is the following.

```r
str(data.test.subject)
Classes ‘data.table’ and 'data.frame':	2947 obs. of  1 variable:
 $ subject: int  2 2 2 2 2 2 2 2 2 2 ...
```

#### Binding columns for the test dataset

The obtained information should now be merged into one test dataset.

```r
data.test <- cbind(data.test.x, data.test.y)
data.test <- cbind(data.test, data.test.subject)
```

The result looks like the following. Note the activity and subject columns are bound to the end of the columns.

```r
str(data.test)

Classes ‘data.table’ and 'data.frame':	2947 obs. of  563 variables:
 $ tBodyAcc-mean()-X                   : num  0.257 0.286 0.275 0.27 0.275 ...
 $ tBodyAcc-mean()-Y                   : num  -0.0233 -0.0132 -0.0261 -0.0326 -0.0278 ...
 $ tBodyAcc-mean()-Z                   : num  -0.0147 -0.1191 -0.1182 -0.1175 -0.1295 ...
 $ tBodyAcc-std()-X                    : num  -0.938 -0.975 -0.994 -0.995 -0.994 ...
 $ tBodyAcc-std()-Y                    : num  -0.92 -0.967 -0.97 -0.973 -0.967 ...
 $ tBodyAcc-std()-Z                    : num  -0.668 -0.945 -0.963 -0.967 -0.978 ...
 $ tBodyAcc-mad()-X                    : num  -0.953 -0.987 -0.994 -0.995 -0.994 ...
 $ tBodyAcc-mad()-Y                    : num  -0.925 -0.968 -0.971 -0.974 -0.966 ...
 $ tBodyAcc-mad()-Z                    : num  -0.674 -0.946 -0.963 -0.969 -0.977 ...
 $ tBodyAcc-max()-X                    : num  -0.894 -0.894 -0.939 -0.939 -0.939 ...
 $ tBodyAcc-max()-Y                    : num  -0.555 -0.555 -0.569 -0.569 -0.561 ...
 $ tBodyAcc-max()-Z                    : num  -0.466 -0.806 -0.799 -0.799 -0.826 ...
 $ tBodyAcc-min()-X                    : num  0.717 0.768 0.848 0.848 0.849 ...
 $ tBodyAcc-min()-Y                    : num  0.636 0.684 0.668 0.668 0.671 ...
 $ tBodyAcc-min()-Z                    : num  0.789 0.797 0.822 0.822 0.83 ...
 $ tBodyAcc-sma()                      : num  -0.878 -0.969 -0.977 -0.974 -0.975 ...
 $ tBodyAcc-energy()-X                 : num  -0.998 -1 -1 -1 -1 ...
 $ tBodyAcc-energy()-Y                 : num  -0.998 -1 -1 -0.999 -0.999 ...
 $ tBodyAcc-energy()-Z                 : num  -0.934 -0.998 -0.999 -0.999 -0.999 ...
 $ tBodyAcc-iqr()-X                    : num  -0.976 -0.994 -0.993 -0.995 -0.993 ...
 $ tBodyAcc-iqr()-Y                    : num  -0.95 -0.974 -0.974 -0.979 -0.967 ...
 $ tBodyAcc-iqr()-Z                    : num  -0.83 -0.951 -0.965 -0.97 -0.976 ...
 $ tBodyAcc-entropy()-X                : num  -0.168 -0.302 -0.618 -0.75 -0.591 ...
 $ tBodyAcc-entropy()-Y                : num  -0.379 -0.348 -0.695 -0.899 -0.74 ...
 $ tBodyAcc-entropy()-Z                : num  0.246 -0.405 -0.537 -0.554 -0.799 ...
 $ tBodyAcc-arCoeff()-X,1              : num  0.521 0.507 0.242 0.175 0.116 ...
 $ tBodyAcc-arCoeff()-X,2              : num  -0.4878 -0.1565 -0.115 -0.0513 -0.0289 ...
 $ tBodyAcc-arCoeff()-X,3              : num  0.4823 0.0407 0.0327 0.0342 -0.0328 ...
 $ tBodyAcc-arCoeff()-X,4              : num  -0.0455 0.273 0.1924 0.1536 0.2943 ...
 $ tBodyAcc-arCoeff()-Y,1              : num  0.21196 0.19757 -0.01194 0.03077 0.00063 ...
 $ tBodyAcc-arCoeff()-Y,2              : num  -0.1349 -0.1946 -0.0634 -0.1293 -0.0453 ...
 $ tBodyAcc-arCoeff()-Y,3              : num  0.131 0.411 0.471 0.446 0.168 ...
 $ tBodyAcc-arCoeff()-Y,4              : num  -0.0142 -0.3405 -0.5074 -0.4195 -0.0682 ...
 $ tBodyAcc-arCoeff()-Z,1              : num  -0.106 0.0776 0.1885 0.2715 0.0744 ...
 $ tBodyAcc-arCoeff()-Z,2              : num  0.0735 -0.084 -0.2316 -0.2258 0.0271 ...
 $ tBodyAcc-arCoeff()-Z,3              : num  -0.1715 0.0353 0.6321 0.4164 -0.1459 ...
 $ tBodyAcc-arCoeff()-Z,4              : num  0.0401 -0.0101 -0.5507 -0.2864 -0.0502 ...
 $ tBodyAcc-correlation()-X,Y          : num  0.077 -0.105 0.3057 -0.0638 0.2352 ...
 $ tBodyAcc-correlation()-X,Z          : num  -0.491 -0.429 -0.324 -0.167 0.29 ...
 $ tBodyAcc-correlation()-Y,Z          : num  -0.709 0.399 0.28 0.545 0.458 ...
 $ tGravityAcc-mean()-X                : num  0.936 0.927 0.93 0.929 0.927 ...
 $ tGravityAcc-mean()-Y                : num  -0.283 -0.289 -0.288 -0.293 -0.303 ...
 $ tGravityAcc-mean()-Z                : num  0.115 0.153 0.146 0.143 0.138 ...
 $ tGravityAcc-std()-X                 : num  -0.925 -0.989 -0.996 -0.993 -0.996 ...
 $ tGravityAcc-std()-Y                 : num  -0.937 -0.984 -0.988 -0.97 -0.971 ...
 $ tGravityAcc-std()-Z                 : num  -0.564 -0.965 -0.982 -0.992 -0.968 ...
 $ tGravityAcc-mad()-X                 : num  -0.93 -0.989 -0.996 -0.993 -0.996 ...
 $ tGravityAcc-mad()-Y                 : num  -0.938 -0.983 -0.989 -0.971 -0.971 ...
 $ tGravityAcc-mad()-Z                 : num  -0.606 -0.965 -0.98 -0.993 -0.969 ...
 $ tGravityAcc-max()-X                 : num  0.906 0.856 0.856 0.856 0.854 ...
 $ tGravityAcc-max()-Y                 : num  -0.279 -0.305 -0.305 -0.305 -0.313 ...
 $ tGravityAcc-max()-Z                 : num  0.153 0.153 0.139 0.136 0.134 ...
 $ tGravityAcc-min()-X                 : num  0.944 0.944 0.949 0.947 0.946 ...
 $ tGravityAcc-min()-Y                 : num  -0.262 -0.262 -0.262 -0.273 -0.279 ...
 $ tGravityAcc-min()-Z                 : num  -0.0762 0.149 0.145 0.1421 0.1309 ...
 $ tGravityAcc-sma()                   : num  -0.0178 0.0577 0.0406 0.0461 0.0554 ...
 $ tGravityAcc-energy()-X              : num  0.829 0.806 0.812 0.809 0.804 ...
 $ tGravityAcc-energy()-Y              : num  -0.865 -0.858 -0.86 -0.854 -0.843 ...
 $ tGravityAcc-energy()-Z              : num  -0.968 -0.957 -0.961 -0.963 -0.965 ...
 $ tGravityAcc-iqr()-X                 : num  -0.95 -0.988 -0.996 -0.992 -0.996 ...
 $ tGravityAcc-iqr()-Y                 : num  -0.946 -0.982 -0.99 -0.973 -0.972 ...
 $ tGravityAcc-iqr()-Z                 : num  -0.76 -0.971 -0.979 -0.996 -0.969 ...
 $ tGravityAcc-entropy()-X             : num  -0.425 -0.729 -0.823 -0.823 -0.83 ...
 $ tGravityAcc-entropy()-Y             : num  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...
 $ tGravityAcc-entropy()-Z             : num  0.219 -0.465 -0.53 -0.7 -0.302 ...
 $ tGravityAcc-arCoeff()-X,1           : num  -0.43 -0.51 -0.295 -0.343 -0.482 ...
 $ tGravityAcc-arCoeff()-X,2           : num  0.431 0.525 0.305 0.359 0.539 ...
 $ tGravityAcc-arCoeff()-X,3           : num  -0.432 -0.54 -0.315 -0.375 -0.596 ...
 $ tGravityAcc-arCoeff()-X,4           : num  0.433 0.554 0.326 0.392 0.655 ...
 $ tGravityAcc-arCoeff()-Y,1           : num  -0.795 -0.746 -0.232 -0.233 -0.493 ...
 $ tGravityAcc-arCoeff()-Y,2           : num  0.781 0.733 0.169 0.176 0.463 ...
 $ tGravityAcc-arCoeff()-Y,3           : num  -0.78 -0.737 -0.155 -0.169 -0.465 ...
 $ tGravityAcc-arCoeff()-Y,4           : num  0.785 0.749 0.164 0.185 0.483 ...
 $ tGravityAcc-arCoeff()-Z,1           : num  -0.984 -0.845 -0.429 -0.297 -0.536 ...
 $ tGravityAcc-arCoeff()-Z,2           : num  0.987 0.869 0.44 0.304 0.544 ...
 $ tGravityAcc-arCoeff()-Z,3           : num  -0.989 -0.893 -0.451 -0.311 -0.553 ...
 $ tGravityAcc-arCoeff()-Z,4           : num  0.988 0.913 0.458 0.315 0.559 ...
 $ tGravityAcc-correlation()-X,Y       : num  0.981 0.945 0.548 0.986 0.998 ...
 $ tGravityAcc-correlation()-X,Z       : num  -0.996 -0.911 -0.335 0.653 0.916 ...
 $ tGravityAcc-correlation()-Y,Z       : num  -0.96 -0.739 0.59 0.747 0.929 ...
 $ tBodyAccJerk-mean()-X               : num  0.072 0.0702 0.0694 0.0749 0.0784 ...
 $ tBodyAccJerk-mean()-Y               : num  0.04575 -0.01788 -0.00491 0.03227 0.02228 ...
 $ tBodyAccJerk-mean()-Z               : num  -0.10604 -0.00172 -0.01367 0.01214 0.00275 ...
 $ tBodyAccJerk-std()-X                : num  -0.907 -0.949 -0.991 -0.991 -0.992 ...
 $ tBodyAccJerk-std()-Y                : num  -0.938 -0.973 -0.971 -0.973 -0.979 ...
 $ tBodyAccJerk-std()-Z                : num  -0.936 -0.978 -0.973 -0.976 -0.987 ...
 $ tBodyAccJerk-mad()-X                : num  -0.916 -0.969 -0.991 -0.99 -0.991 ...
 $ tBodyAccJerk-mad()-Y                : num  -0.937 -0.974 -0.973 -0.973 -0.977 ...
 $ tBodyAccJerk-mad()-Z                : num  -0.949 -0.979 -0.975 -0.978 -0.985 ...
 $ tBodyAccJerk-max()-X                : num  -0.903 -0.915 -0.992 -0.992 -0.994 ...
 $ tBodyAccJerk-max()-Y                : num  -0.95 -0.981 -0.975 -0.975 -0.986 ...
 $ tBodyAccJerk-max()-Z                : num  -0.891 -0.978 -0.962 -0.962 -0.986 ...
 $ tBodyAccJerk-min()-X                : num  0.898 0.898 0.994 0.994 0.994 ...
 $ tBodyAccJerk-min()-Y                : num  0.95 0.968 0.976 0.976 0.98 ...
 $ tBodyAccJerk-min()-Z                : num  0.946 0.966 0.966 0.97 0.985 ...
 $ tBodyAccJerk-sma()                  : num  -0.931 -0.974 -0.982 -0.983 -0.987 ...
 $ tBodyAccJerk-energy()-X             : num  -0.995 -0.998 -1 -1 -1 ...
 $ tBodyAccJerk-energy()-Y             : num  -0.997 -0.999 -0.999 -0.999 -1 ...
 $ tBodyAccJerk-energy()-Z             : num  -0.997 -0.999 -0.999 -0.999 -1 ...
  [list output truncated]
``` 
 
```r 
 tail(names(date.test))
 [1] "angle(tBodyGyroJerkMean,gravityMean)" "angle(X,gravityMean)"                
[3] "angle(Y,gravityMean)"                 "angle(Z,gravityMean)"                
[5] "activity_id"                          "subject"  
```

To save some memory, we are releasing the unused variables and will continue only with the ones we need.

```r
rm(data.test.x)
rm(data.test.y)
rm(data.test.subject)
```

### Obtaining train data

The same steps as before need to be performed on the training data provided with the initial dataset.
Here the structure is basically the same as shown before, therefore the structure of the variables is not 
printed again within this document.


#### Reading measurements

```r
data.train.x <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/train/X_train.txt")))
```

#### Specifying column names based on the obtained features from above

```r
setnames(data.train.x, as.character(features$feature))
```

#### Reading activities

```r
data.train.y <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/train/y_train.txt")))
```

#### Specifying a valid name for the activities
```r
setnames(data.train.y, "activity_id")
```

#### Reading subjects

```r
data.train.subject <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/train/subject_train.txt")))
```

```r
setnames(data.train.subject,"subject")
```

#### Binding columns

```r
data.train <- cbind(data.train.x, data.train.y)
data.train <- cbind(data.train, data.train.subject)
```

Releasing unused memory

```r
rm(data.train.x)
rm(data.train.y)
rm(data.train.subject)
rm(features)
```


#### Merging datasets together

```r
l <- list(data.test, data.train)
data.merged <- rbindlist(l, use.names=TRUE, fill=TRUE)
```

Releasing unused memory

```r
rm(l)
rm(data.train)
rm(data.test)
```

## 2. Extracts only the measurements on the mean and standard deviation for each measurement. 

Now we are only interested in variables that contain the strings "std" or "mean". Obvioulsy we also need the previously added
subject and activity information.

```r
data <- data.merged[, grep("std|mean|activity|subject", names(data.merged)), with=FALSE]
```

The remaining structure of the dataset looks like the following.

```r
str(data)
Classes ‘data.table’ and 'data.frame':	10299 obs. of  81 variables:
 $ tBodyAcc-mean()-X              : num  0.257 0.286 0.275 0.27 0.275 ...
 $ tBodyAcc-mean()-Y              : num  -0.0233 -0.0132 -0.0261 -0.0326 -0.0278 ...
 $ tBodyAcc-mean()-Z              : num  -0.0147 -0.1191 -0.1182 -0.1175 -0.1295 ...
 $ tBodyAcc-std()-X               : num  -0.938 -0.975 -0.994 -0.995 -0.994 ...
 $ tBodyAcc-std()-Y               : num  -0.92 -0.967 -0.97 -0.973 -0.967 ...
 $ tBodyAcc-std()-Z               : num  -0.668 -0.945 -0.963 -0.967 -0.978 ...
 $ tGravityAcc-mean()-X           : num  0.936 0.927 0.93 0.929 0.927 ...
 $ tGravityAcc-mean()-Y           : num  -0.283 -0.289 -0.288 -0.293 -0.303 ...
 $ tGravityAcc-mean()-Z           : num  0.115 0.153 0.146 0.143 0.138 ...
 $ tGravityAcc-std()-X            : num  -0.925 -0.989 -0.996 -0.993 -0.996 ...
 $ tGravityAcc-std()-Y            : num  -0.937 -0.984 -0.988 -0.97 -0.971 ...
 $ tGravityAcc-std()-Z            : num  -0.564 -0.965 -0.982 -0.992 -0.968 ...
 $ tBodyAccJerk-mean()-X          : num  0.072 0.0702 0.0694 0.0749 0.0784 ...
 $ tBodyAccJerk-mean()-Y          : num  0.04575 -0.01788 -0.00491 0.03227 0.02228 ...
 $ tBodyAccJerk-mean()-Z          : num  -0.10604 -0.00172 -0.01367 0.01214 0.00275 ...
 $ tBodyAccJerk-std()-X           : num  -0.907 -0.949 -0.991 -0.991 -0.992 ...
 $ tBodyAccJerk-std()-Y           : num  -0.938 -0.973 -0.971 -0.973 -0.979 ...
 $ tBodyAccJerk-std()-Z           : num  -0.936 -0.978 -0.973 -0.976 -0.987 ...
 $ tBodyGyro-mean()-X             : num  0.11998 -0.00155 -0.04821 -0.05664 -0.05999 ...
 $ tBodyGyro-mean()-Y             : num  -0.0918 -0.1873 -0.1663 -0.126 -0.0847 ...
 $ tBodyGyro-mean()-Z             : num  0.1896 0.1807 0.1542 0.1183 0.0787 ...
 $ tBodyGyro-std()-X              : num  -0.883 -0.926 -0.973 -0.968 -0.975 ...
 $ tBodyGyro-std()-Y              : num  -0.816 -0.93 -0.979 -0.975 -0.978 ...
 $ tBodyGyro-std()-Z              : num  -0.941 -0.968 -0.976 -0.963 -0.968 ...
 $ tBodyGyroJerk-mean()-X         : num  -0.2049 -0.1387 -0.0978 -0.1022 -0.0918 ...
 $ tBodyGyroJerk-mean()-Y         : num  -0.1745 -0.0258 -0.0342 -0.0447 -0.029 ...
 $ tBodyGyroJerk-mean()-Z         : num  -0.0934 -0.0714 -0.06 -0.0534 -0.0612 ...
 $ tBodyGyroJerk-std()-X          : num  -0.901 -0.962 -0.984 -0.984 -0.988 ...
 $ tBodyGyroJerk-std()-Y          : num  -0.911 -0.956 -0.988 -0.99 -0.992 ...
 $ tBodyGyroJerk-std()-Z          : num  -0.939 -0.981 -0.976 -0.981 -0.982 ...
 $ tBodyAccMag-mean()             : num  -0.867 -0.969 -0.976 -0.974 -0.976 ...
 $ tBodyAccMag-std()              : num  -0.705 -0.954 -0.979 -0.977 -0.977 ...
 $ tGravityAccMag-mean()          : num  -0.867 -0.969 -0.976 -0.974 -0.976 ...
 $ tGravityAccMag-std()           : num  -0.705 -0.954 -0.979 -0.977 -0.977 ...
 $ tBodyAccJerkMag-mean()         : num  -0.93 -0.974 -0.982 -0.983 -0.987 ...
 $ tBodyAccJerkMag-std()          : num  -0.896 -0.941 -0.971 -0.975 -0.989 ...
 $ tBodyGyroMag-mean()            : num  -0.796 -0.898 -0.939 -0.947 -0.957 ...
 $ tBodyGyroMag-std()             : num  -0.762 -0.911 -0.972 -0.97 -0.969 ...
 $ tBodyGyroJerkMag-mean()        : num  -0.925 -0.973 -0.987 -0.989 -0.99 ...
 $ tBodyGyroJerkMag-std()         : num  -0.894 -0.944 -0.984 -0.986 -0.99 ...
 $ fBodyAcc-mean()-X              : num  -0.919 -0.961 -0.992 -0.993 -0.992 ...
 $ fBodyAcc-mean()-Y              : num  -0.918 -0.964 -0.965 -0.968 -0.969 ...
 $ fBodyAcc-mean()-Z              : num  -0.789 -0.957 -0.967 -0.967 -0.98 ...
 $ fBodyAcc-std()-X               : num  -0.948 -0.984 -0.995 -0.996 -0.995 ...
 $ fBodyAcc-std()-Y               : num  -0.925 -0.97 -0.974 -0.977 -0.967 ...
 $ fBodyAcc-std()-Z               : num  -0.636 -0.942 -0.962 -0.969 -0.978 ...
 $ fBodyAcc-meanFreq()-X          : num  0.0111 0.3521 0.1804 0.0627 -0.0189 ...
 $ fBodyAcc-meanFreq()-Y          : num  0.12125 0.17455 0.13346 0.26172 -0.00998 ...
 $ fBodyAcc-meanFreq()-Z          : num  -0.5229 -0.3207 0.1827 0.1518 0.0952 ...
 $ fBodyAccJerk-mean()-X          : num  -0.9 -0.944 -0.991 -0.991 -0.991 ...
 $ fBodyAccJerk-mean()-Y          : num  -0.937 -0.969 -0.973 -0.972 -0.98 ...
 $ fBodyAccJerk-mean()-Z          : num  -0.924 -0.973 -0.972 -0.97 -0.983 ...
 $ fBodyAccJerk-std()-X           : num  -0.924 -0.962 -0.992 -0.992 -0.994 ...
 $ fBodyAccJerk-std()-Y           : num  -0.943 -0.98 -0.971 -0.975 -0.979 ...
 $ fBodyAccJerk-std()-Z           : num  -0.948 -0.981 -0.972 -0.981 -0.989 ...
 $ fBodyAccJerk-meanFreq()-X      : num  0.451 0.473 0.271 0.277 0.18 ...
 $ fBodyAccJerk-meanFreq()-Y      : num  0.1372 0.1672 -0.2722 -0.0383 -0.1392 ...
 $ fBodyAccJerk-meanFreq()-Z      : num  -0.1803 -0.2431 -0.0825 0.0218 0.1009 ...
 $ fBodyGyro-mean()-X             : num  -0.824 -0.923 -0.973 -0.972 -0.976 ...
 $ fBodyGyro-mean()-Y             : num  -0.808 -0.926 -0.981 -0.981 -0.98 ...
 $ fBodyGyro-mean()-Z             : num  -0.918 -0.968 -0.972 -0.967 -0.969 ...
 $ fBodyGyro-std()-X              : num  -0.903 -0.927 -0.973 -0.967 -0.974 ...
 $ fBodyGyro-std()-Y              : num  -0.823 -0.932 -0.977 -0.972 -0.977 ...
 $ fBodyGyro-std()-Z              : num  -0.956 -0.97 -0.979 -0.965 -0.97 ...
 $ fBodyGyro-meanFreq()-X         : num  0.184 0.0181 -0.4791 -0.497 -0.4275 ...
 $ fBodyGyro-meanFreq()-Y         : num  -0.0593 -0.2273 -0.2101 -0.4999 -0.2781 ...
 $ fBodyGyro-meanFreq()-Z         : num  0.4381 -0.1517 0.0493 -0.2589 -0.2913 ...
 $ fBodyAccMag-mean()             : num  -0.791 -0.954 -0.976 -0.973 -0.978 ...
 $ fBodyAccMag-std()              : num  -0.711 -0.96 -0.984 -0.982 -0.979 ...
 $ fBodyAccMag-meanFreq()         : num  -0.4835 0.2035 0.3425 0.3312 0.0711 ...
 $ fBodyBodyAccJerkMag-mean()     : num  -0.895 -0.945 -0.971 -0.972 -0.987 ...
 $ fBodyBodyAccJerkMag-std()      : num  -0.896 -0.934 -0.97 -0.978 -0.99 ...
 $ fBodyBodyAccJerkMag-meanFreq() : num  -0.0354 -0.4912 0.1407 0.1486 0.4222 ...
 $ fBodyBodyGyroMag-mean()        : num  -0.771 -0.924 -0.975 -0.976 -0.977 ...
 $ fBodyBodyGyroMag-std()         : num  -0.797 -0.917 -0.974 -0.971 -0.97 ...
 $ fBodyBodyGyroMag-meanFreq()    : num  -0.0474 -0.0315 -0.1688 -0.2856 -0.3491 ...
 $ fBodyBodyGyroJerkMag-mean()    : num  -0.89 -0.952 -0.986 -0.986 -0.99 ...
 $ fBodyBodyGyroJerkMag-std()     : num  -0.907 -0.938 -0.983 -0.986 -0.991 ...
 $ fBodyBodyGyroJerkMag-meanFreq(): num  0.0716 -0.4012 0.0629 0.1167 -0.1217 ...
 $ activity_id                    : int  5 5 5 5 5 5 5 5 5 5 ...
 $ subject                        : int  2 2 2 2 2 2 2 2 2 2 ...
```

Lets free some memory again.

```r
rm(data.merged)
```

## 3. Uses descriptive activity names to name the activities in the data set

### Obtaining activity labels

In this step we want to have readable activity names stored in the dataset.
Lets read them first.

```r
activities <- data.table(read.table(unz(zippedDataset, "UCI HAR Dataset/activity_labels.txt"), 
                                  col.names=c("activity_id", "activity"), 
                                  stringsAsFactors=FALSE))
```		

The data is the following.

```r
str(activities)
Classes ‘data.table’ and 'data.frame':	6 obs. of  2 variables:
 $ activity_id: int  1 2 3 4 5 6
 $ activity   : chr  "WALKING" "WALKING_UPSTAIRS" "WALKING_DOWNSTAIRS" "SITTING" ...
```						  

### Labelling activities by merging the datasets

```r
data <- merge(data, activities, by="activity_id", all=TRUE)
```

Removing the now unnecessary activity_id column.

```r
data[, activity_id := NULL]
```

The current dataset now contains the values from the activities as shown in the end of the following description.

```r
str(data)
Classes ‘data.table’ and 'data.frame':	10299 obs. of  81 variables:
 $ tBodyAcc-mean()-X              : num  0.204 0.249 0.325 0.309 0.266 ...
 $ tBodyAcc-mean()-Y              : num  -0.03234 -0.00341 -0.0298 -0.02213 -0.01594 ...
 $ tBodyAcc-mean()-Z              : num  -0.0969 -0.056 -0.0778 -0.1321 -0.1207 ...
 $ tBodyAcc-std()-X               : num  -0.466 -0.399 -0.465 -0.515 -0.501 ...
 $ tBodyAcc-std()-Y               : num  -0.1808 -0.1378 0.0135 0.032 -0.1632 ...
 $ tBodyAcc-std()-Z               : num  -0.455 -0.461 -0.368 -0.349 -0.389 ...
 $ tGravityAcc-mean()-X           : num  0.92 0.913 0.921 0.925 0.926 ...
 $ tGravityAcc-mean()-Y           : num  -0.347 -0.352 -0.352 -0.352 -0.348 ...
 $ tGravityAcc-mean()-Z           : num  0.0197 0.025 0.0301 0.0268 0.0218 ...
 $ tGravityAcc-std()-X            : num  -0.954 -0.97 -0.961 -0.979 -0.971 ...
 $ tGravityAcc-std()-Y            : num  -0.947 -0.973 -0.985 -0.983 -0.977 ...
 $ tGravityAcc-std()-Z            : num  -0.976 -0.969 -0.97 -0.959 -0.982 ...
 $ tBodyAccJerk-mean()-X          : num  -0.077 0.1098 0.2018 -0.1578 0.0362 ...
 $ tBodyAccJerk-mean()-Y          : num  0.1975 0.242 -0.0531 -0.4142 0.0659 ...
 $ tBodyAccJerk-mean()-Z          : num  0.17867 0.38011 -0.22104 -0.23184 0.00615 ...
 $ tBodyAccJerk-std()-X           : num  -0.369 -0.257 -0.333 -0.427 -0.44 ...
 $ tBodyAccJerk-std()-Y           : num  -0.1931 -0.0974 0.1332 0.0887 -0.2381 ...
 $ tBodyAccJerk-std()-Z           : num  -0.678 -0.663 -0.587 -0.575 -0.622 ...
 $ tBodyGyro-mean()-X             : num  -0.2783 -0.1484 -0.0143 0.0295 0.025 ...
 $ tBodyGyro-mean()-Y             : num  0.2344 0.032 -0.0765 -0.0873 -0.1465 ...
 $ tBodyGyro-mean()-Z             : num  0.0817 0.1259 0.1062 0.1063 0.0988 ...
 $ tBodyGyro-std()-X              : num  -0.615 -0.603 -0.594 -0.587 -0.615 ...
 $ tBodyGyro-std()-Y              : num  -0.543 -0.545 -0.557 -0.537 -0.555 ...
 $ tBodyGyro-std()-Z              : num  -0.5 -0.489 -0.51 -0.553 -0.583 ...
 $ tBodyGyroJerk-mean()-X         : num  -0.0568 -0.0294 0.1152 -0.0182 -0.128 ...
 $ tBodyGyroJerk-mean()-Y         : num  -0.196 -0.0706 0.0933 -0.1509 -0.2406 ...
 $ tBodyGyroJerk-mean()-Z         : num  0.11924 -0.2054 -0.1921 -0.01534 0.00789 ...
 $ tBodyGyroJerk-std()-X          : num  -0.543 -0.534 -0.532 -0.516 -0.51 ...
 $ tBodyGyroJerk-std()-Y          : num  -0.739 -0.71 -0.73 -0.733 -0.747 ...
 $ tBodyGyroJerk-std()-Z          : num  -0.563 -0.581 -0.537 -0.55 -0.619 ...
 $ tBodyAccMag-mean()             : num  -0.356 -0.296 -0.278 -0.291 -0.344 ...
 $ tBodyAccMag-std()              : num  -0.444 -0.439 -0.416 -0.449 -0.52 ...
 $ tGravityAccMag-mean()          : num  -0.356 -0.296 -0.278 -0.291 -0.344 ...
 $ tGravityAccMag-std()           : num  -0.444 -0.439 -0.416 -0.449 -0.52 ...
 $ tBodyAccJerkMag-mean()         : num  -0.391 -0.295 -0.268 -0.318 -0.4 ...
 $ tBodyAccJerkMag-std()          : num  -0.318 -0.245 -0.121 -0.176 -0.416 ...
 $ tBodyGyroMag-mean()            : num  -0.417 -0.46 -0.482 -0.482 -0.513 ...
 $ tBodyGyroMag-std()             : num  -0.546 -0.605 -0.612 -0.574 -0.585 ...
 $ tBodyGyroJerkMag-mean()        : num  -0.652 -0.638 -0.641 -0.645 -0.661 ...
 $ tBodyGyroJerkMag-std()         : num  -0.706 -0.692 -0.69 -0.681 -0.698 ...
 $ fBodyAcc-mean()-X              : num  -0.362 -0.344 -0.373 -0.443 -0.458 ...
 $ fBodyAcc-mean()-Y              : num  -0.121 -0.1052 0.0859 0.1167 -0.1556 ...
 $ fBodyAcc-mean()-Z              : num  -0.521 -0.458 -0.402 -0.375 -0.483 ...
 $ fBodyAcc-std()-X               : num  -0.512 -0.423 -0.506 -0.546 -0.519 ...
 $ fBodyAcc-std()-Y               : num  -0.2668 -0.2105 -0.0923 -0.0824 -0.2201 ...
 $ fBodyAcc-std()-Z               : num  -0.462 -0.506 -0.398 -0.386 -0.387 ...
 $ fBodyAcc-meanFreq()-X          : num  -0.2387 -0.2067 -0.0966 -0.0414 -0.3042 ...
 $ fBodyAcc-meanFreq()-Y          : num  0.1114 0.1512 0.2123 0.2108 -0.0106 ...
 $ fBodyAcc-meanFreq()-Z          : num  -0.00924 0.42195 -0.01455 0.18375 -0.16149 ...
 $ fBodyAccJerk-mean()-X          : num  -0.351 -0.289 -0.332 -0.45 -0.45 ...
 $ fBodyAccJerk-mean()-Y          : num  -0.2039 -0.1005 0.0728 0.029 -0.2658 ...
 $ fBodyAccJerk-mean()-Z          : num  -0.648 -0.624 -0.532 -0.539 -0.604 ...
 $ fBodyAccJerk-std()-X           : num  -0.45 -0.289 -0.396 -0.453 -0.48 ...
 $ fBodyAccJerk-std()-Y           : num  -0.238 -0.159 0.124 0.082 -0.259 ...
 $ fBodyAccJerk-std()-Z           : num  -0.705 -0.702 -0.641 -0.608 -0.637 ...
 $ fBodyAccJerk-meanFreq()-X      : num  -0.1619 0.0165 0.0103 0.0952 -0.0783 ...
 $ fBodyAccJerk-meanFreq()-Y      : num  -0.2491 -0.0751 -0.2732 -0.4531 -0.36 ...
 $ fBodyAccJerk-meanFreq()-Z      : num  -0.339 -0.233 -0.344 -0.13 -0.202 ...
 $ fBodyGyro-mean()-X             : num  -0.513 -0.496 -0.425 -0.524 -0.537 ...
 $ fBodyGyro-mean()-Y             : num  -0.568 -0.588 -0.568 -0.59 -0.577 ...
 $ fBodyGyro-mean()-Z             : num  -0.433 -0.432 -0.426 -0.487 -0.534 ...
 $ fBodyGyro-std()-X              : num  -0.647 -0.637 -0.649 -0.608 -0.64 ...
 $ fBodyGyro-std()-Y              : num  -0.531 -0.523 -0.552 -0.51 -0.545 ...
 $ fBodyGyro-std()-Z              : num  -0.57 -0.556 -0.585 -0.618 -0.639 ...
 $ fBodyGyro-meanFreq()-X         : num  -0.1338 -0.0983 0.2521 -0.2303 -0.0918 ...
 $ fBodyGyro-meanFreq()-Y         : num  -0.2035 -0.2866 -0.0591 -0.2582 -0.0289 ...
 $ fBodyGyro-meanFreq()-Z         : num  0.0638 0.045 0.0683 0.0435 0.041 ...
 $ fBodyAccMag-mean()             : num  -0.368 -0.372 -0.299 -0.331 -0.475 ...
 $ fBodyAccMag-std()              : num  -0.577 -0.567 -0.585 -0.614 -0.621 ...
 $ fBodyAccMag-meanFreq()         : num  0.163 0.39 0.428 0.454 0.332 ...
 $ fBodyBodyAccJerkMag-mean()     : num  -0.332 -0.225 -0.135 -0.198 -0.4 ...
 $ fBodyBodyAccJerkMag-std()      : num  -0.304 -0.273 -0.109 -0.154 -0.437 ...
 $ fBodyBodyAccJerkMag-meanFreq() : num  0.0317 0.1569 0.0162 0.0454 0.0831 ...
 $ fBodyBodyGyroMag-mean()        : num  -0.574 -0.633 -0.571 -0.566 -0.595 ...
 $ fBodyBodyGyroMag-std()         : num  -0.604 -0.652 -0.716 -0.655 -0.649 ...
 $ fBodyBodyGyroMag-meanFreq()    : num  0.0185 0.1961 0.25 0.1382 0.2023 ...
 $ fBodyBodyGyroJerkMag-mean()    : num  -0.69 -0.679 -0.674 -0.68 -0.683 ...
 $ fBodyBodyGyroJerkMag-std()     : num  -0.75 -0.732 -0.736 -0.704 -0.741 ...
 $ fBodyBodyGyroJerkMag-meanFreq(): num  0.109 0.267 0.372 0.26 0.324 ...
 $ subject                        : int  2 2 2 2 2 2 2 2 2 2 ...
 $ activity                       : chr  "WALKING" "WALKING" "WALKING" "WALKING" ...
```

Freeing some memory again.

```r
rm(activities)
rm(zippedDataset)
```

### 4. Appropriately labels the data set with descriptive variable names. 

In this step, the columns need to get some readable names.

```r
names(data)<-gsub("^t", "time", names(data))
names(data)<-gsub("^f", "frequency", names(data))
names(data)<-gsub("Acc", "Accelerometer", names(data))
names(data)<-gsub("Gyro", "Gyroscope", names(data))
names(data)<-gsub("Mag", "Magnitude", names(data))
names(data)<-gsub("BodyBody", "Body", names(data))
```

The result looks like the following.

```r
names(data)
 [1] "timeBodyAccelerometer-mean()-X"                    
 [2] "timeBodyAccelerometer-mean()-Y"                    
 [3] "timeBodyAccelerometer-mean()-Z"                    
 [4] "timeBodyAccelerometer-std()-X"                     
 [5] "timeBodyAccelerometer-std()-Y"                     
 [6] "timeBodyAccelerometer-std()-Z"                     
 [7] "timeGravityAccelerometer-mean()-X"                 
 [8] "timeGravityAccelerometer-mean()-Y"                 
 [9] "timeGravityAccelerometer-mean()-Z"                 
[10] "timeGravityAccelerometer-std()-X"                  
[11] "timeGravityAccelerometer-std()-Y"                  
[12] "timeGravityAccelerometer-std()-Z"                  
[13] "timeBodyAccelerometerJerk-mean()-X"                
[14] "timeBodyAccelerometerJerk-mean()-Y"                
[15] "timeBodyAccelerometerJerk-mean()-Z"                
[16] "timeBodyAccelerometerJerk-std()-X"                 
[17] "timeBodyAccelerometerJerk-std()-Y"                 
[18] "timeBodyAccelerometerJerk-std()-Z"                 
[19] "timeBodyGyroscope-mean()-X"                        
[20] "timeBodyGyroscope-mean()-Y"                        
[21] "timeBodyGyroscope-mean()-Z"                        
[22] "timeBodyGyroscope-std()-X"                         
[23] "timeBodyGyroscope-std()-Y"                         
[24] "timeBodyGyroscope-std()-Z"                         
[25] "timeBodyGyroscopeJerk-mean()-X"                    
[26] "timeBodyGyroscopeJerk-mean()-Y"                    
[27] "timeBodyGyroscopeJerk-mean()-Z"                    
[28] "timeBodyGyroscopeJerk-std()-X"                     
[29] "timeBodyGyroscopeJerk-std()-Y"                     
[30] "timeBodyGyroscopeJerk-std()-Z"                     
[31] "timeBodyAccelerometerMagnitude-mean()"             
[32] "timeBodyAccelerometerMagnitude-std()"              
[33] "timeGravityAccelerometerMagnitude-mean()"          
[34] "timeGravityAccelerometerMagnitude-std()"           
[35] "timeBodyAccelerometerJerkMagnitude-mean()"         
[36] "timeBodyAccelerometerJerkMagnitude-std()"          
[37] "timeBodyGyroscopeMagnitude-mean()"                 
[38] "timeBodyGyroscopeMagnitude-std()"                  
[39] "timeBodyGyroscopeJerkMagnitude-mean()"             
[40] "timeBodyGyroscopeJerkMagnitude-std()"              
[41] "frequencyBodyAccelerometer-mean()-X"               
[42] "frequencyBodyAccelerometer-mean()-Y"               
[43] "frequencyBodyAccelerometer-mean()-Z"               
[44] "frequencyBodyAccelerometer-std()-X"                
[45] "frequencyBodyAccelerometer-std()-Y"                
[46] "frequencyBodyAccelerometer-std()-Z"                
[47] "frequencyBodyAccelerometer-meanFreq()-X"           
[48] "frequencyBodyAccelerometer-meanFreq()-Y"           
[49] "frequencyBodyAccelerometer-meanFreq()-Z"           
[50] "frequencyBodyAccelerometerJerk-mean()-X"           
[51] "frequencyBodyAccelerometerJerk-mean()-Y"           
[52] "frequencyBodyAccelerometerJerk-mean()-Z"           
[53] "frequencyBodyAccelerometerJerk-std()-X"            
[54] "frequencyBodyAccelerometerJerk-std()-Y"            
[55] "frequencyBodyAccelerometerJerk-std()-Z"            
[56] "frequencyBodyAccelerometerJerk-meanFreq()-X"       
[57] "frequencyBodyAccelerometerJerk-meanFreq()-Y"       
[58] "frequencyBodyAccelerometerJerk-meanFreq()-Z"       
[59] "frequencyBodyGyroscope-mean()-X"                   
[60] "frequencyBodyGyroscope-mean()-Y"                   
[61] "frequencyBodyGyroscope-mean()-Z"                   
[62] "frequencyBodyGyroscope-std()-X"                    
[63] "frequencyBodyGyroscope-std()-Y"                    
[64] "frequencyBodyGyroscope-std()-Z"                    
[65] "frequencyBodyGyroscope-meanFreq()-X"               
[66] "frequencyBodyGyroscope-meanFreq()-Y"               
[67] "frequencyBodyGyroscope-meanFreq()-Z"               
[68] "frequencyBodyAccelerometerMagnitude-mean()"        
[69] "frequencyBodyAccelerometerMagnitude-std()"         
[70] "frequencyBodyAccelerometerMagnitude-meanFreq()"    
[71] "frequencyBodyAccelerometerJerkMagnitude-mean()"    
[72] "frequencyBodyAccelerometerJerkMagnitude-std()"     
[73] "frequencyBodyAccelerometerJerkMagnitude-meanFreq()"
[74] "frequencyBodyGyroscopeMagnitude-mean()"            
[75] "frequencyBodyGyroscopeMagnitude-std()"             
[76] "frequencyBodyGyroscopeMagnitude-meanFreq()"        
[77] "frequencyBodyGyroscopeJerkMagnitude-mean()"        
[78] "frequencyBodyGyroscopeJerkMagnitude-std()"         
[79] "frequencyBodyGyroscopeJerkMagnitude-meanFreq()"    
[80] "subject"                                           
[81] "activity" 
```

### 5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

In this step the data is melted before to be able to get the mean of each variable per activity and subject in the succeeding step.

```r
data.melt <- melt(data, id=c("activity", "subject"))
```

The result looks like the following.

```r
head(data.melt)
   activity subject                       variable     value
1:  WALKING       2 timeBodyAccelerometer-mean()-X 0.2039624
2:  WALKING       2 timeBodyAccelerometer-mean()-X 0.2493432
3:  WALKING       2 timeBodyAccelerometer-mean()-X 0.3250505
4:  WALKING       2 timeBodyAccelerometer-mean()-X 0.3088081
5:  WALKING       2 timeBodyAccelerometer-mean()-X 0.2655992
6:  WALKING       2 timeBodyAccelerometer-mean()-X 0.1874192
```

Now the mean of each variable is calculated and stored in a column per variable.

```r
data.tidy <- dcast(data.melt, activity + subject ~ variable, mean)
```

The resulting structure is shown below.

```r
str(data.tidy)
'data.frame':	180 obs. of  81 variables:
 $ activity                                          : chr  "LAYING" "LAYING" "LAYING" "LAYING" ...
 $ subject                                           : int  1 2 3 4 5 6 7 8 9 10 ...
 $ timeBodyAccelerometer-mean()-X                    : num  0.222 0.281 0.276 0.264 0.278 ...
 $ timeBodyAccelerometer-mean()-Y                    : num  -0.0405 -0.0182 -0.019 -0.015 -0.0183 ...
 $ timeBodyAccelerometer-mean()-Z                    : num  -0.113 -0.107 -0.101 -0.111 -0.108 ...
 $ timeBodyAccelerometer-std()-X                     : num  -0.928 -0.974 -0.983 -0.954 -0.966 ...
 $ timeBodyAccelerometer-std()-Y                     : num  -0.837 -0.98 -0.962 -0.942 -0.969 ...
 $ timeBodyAccelerometer-std()-Z                     : num  -0.826 -0.984 -0.964 -0.963 -0.969 ...
 $ timeGravityAccelerometer-mean()-X                 : num  -0.249 -0.51 -0.242 -0.421 -0.483 ...
 $ timeGravityAccelerometer-mean()-Y                 : num  0.706 0.753 0.837 0.915 0.955 ...
 $ timeGravityAccelerometer-mean()-Z                 : num  0.446 0.647 0.489 0.342 0.264 ...
 $ timeGravityAccelerometer-std()-X                  : num  -0.897 -0.959 -0.983 -0.921 -0.946 ...
 $ timeGravityAccelerometer-std()-Y                  : num  -0.908 -0.988 -0.981 -0.97 -0.986 ...
 $ timeGravityAccelerometer-std()-Z                  : num  -0.852 -0.984 -0.965 -0.976 -0.977 ...
 $ timeBodyAccelerometerJerk-mean()-X                : num  0.0811 0.0826 0.077 0.0934 0.0848 ...
 $ timeBodyAccelerometerJerk-mean()-Y                : num  0.00384 0.01225 0.0138 0.00693 0.00747 ...
 $ timeBodyAccelerometerJerk-mean()-Z                : num  0.01083 -0.0018 -0.00436 -0.00641 -0.00304 ...
 $ timeBodyAccelerometerJerk-std()-X                 : num  -0.958 -0.986 -0.981 -0.978 -0.983 ...
 $ timeBodyAccelerometerJerk-std()-Y                 : num  -0.924 -0.983 -0.969 -0.942 -0.965 ...
 $ timeBodyAccelerometerJerk-std()-Z                 : num  -0.955 -0.988 -0.982 -0.979 -0.985 ...
 $ timeBodyGyroscope-mean()-X                        : num  -0.01655 -0.01848 -0.02082 -0.00923 -0.02189 ...
 $ timeBodyGyroscope-mean()-Y                        : num  -0.0645 -0.1118 -0.0719 -0.093 -0.0799 ...
 $ timeBodyGyroscope-mean()-Z                        : num  0.149 0.145 0.138 0.17 0.16 ...
 $ timeBodyGyroscope-std()-X                         : num  -0.874 -0.988 -0.975 -0.973 -0.979 ...
 $ timeBodyGyroscope-std()-Y                         : num  -0.951 -0.982 -0.977 -0.961 -0.977 ...
 $ timeBodyGyroscope-std()-Z                         : num  -0.908 -0.96 -0.964 -0.962 -0.961 ...
 $ timeBodyGyroscopeJerk-mean()-X                    : num  -0.107 -0.102 -0.1 -0.105 -0.102 ...
 $ timeBodyGyroscopeJerk-mean()-Y                    : num  -0.0415 -0.0359 -0.039 -0.0381 -0.0404 ...
 $ timeBodyGyroscopeJerk-mean()-Z                    : num  -0.0741 -0.0702 -0.0687 -0.0712 -0.0708 ...
 $ timeBodyGyroscopeJerk-std()-X                     : num  -0.919 -0.993 -0.98 -0.975 -0.983 ...
 $ timeBodyGyroscopeJerk-std()-Y                     : num  -0.968 -0.99 -0.987 -0.987 -0.984 ...
 $ timeBodyGyroscopeJerk-std()-Z                     : num  -0.958 -0.988 -0.983 -0.984 -0.99 ...
 $ timeBodyAccelerometerMagnitude-mean()             : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ timeBodyAccelerometerMagnitude-std()              : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ timeGravityAccelerometerMagnitude-mean()          : num  -0.842 -0.977 -0.973 -0.955 -0.967 ...
 $ timeGravityAccelerometerMagnitude-std()           : num  -0.795 -0.973 -0.964 -0.931 -0.959 ...
 $ timeBodyAccelerometerJerkMagnitude-mean()         : num  -0.954 -0.988 -0.979 -0.97 -0.98 ...
 $ timeBodyAccelerometerJerkMagnitude-std()          : num  -0.928 -0.986 -0.976 -0.961 -0.977 ...
 $ timeBodyGyroscopeMagnitude-mean()                 : num  -0.875 -0.95 -0.952 -0.93 -0.947 ...
 $ timeBodyGyroscopeMagnitude-std()                  : num  -0.819 -0.961 -0.954 -0.947 -0.958 ...
 $ timeBodyGyroscopeJerkMagnitude-mean()             : num  -0.963 -0.992 -0.987 -0.985 -0.986 ...
 $ timeBodyGyroscopeJerkMagnitude-std()              : num  -0.936 -0.99 -0.983 -0.983 -0.984 ...
 $ frequencyBodyAccelerometer-mean()-X               : num  -0.939 -0.977 -0.981 -0.959 -0.969 ...
 $ frequencyBodyAccelerometer-mean()-Y               : num  -0.867 -0.98 -0.961 -0.939 -0.965 ...
 $ frequencyBodyAccelerometer-mean()-Z               : num  -0.883 -0.984 -0.968 -0.968 -0.977 ...
 $ frequencyBodyAccelerometer-std()-X                : num  -0.924 -0.973 -0.984 -0.952 -0.965 ...
 $ frequencyBodyAccelerometer-std()-Y                : num  -0.834 -0.981 -0.964 -0.946 -0.973 ...
 $ frequencyBodyAccelerometer-std()-Z                : num  -0.813 -0.985 -0.963 -0.962 -0.966 ...
 $ frequencyBodyAccelerometer-meanFreq()-X           : num  -0.159 -0.146 -0.074 -0.274 -0.136 ...
 $ frequencyBodyAccelerometer-meanFreq()-Y           : num  0.0975 0.2573 0.2385 0.3662 0.4665 ...
 $ frequencyBodyAccelerometer-meanFreq()-Z           : num  0.0894 0.4025 0.217 0.2013 0.1323 ...
 $ frequencyBodyAccelerometerJerk-mean()-X           : num  -0.957 -0.986 -0.981 -0.979 -0.983 ...
 $ frequencyBodyAccelerometerJerk-mean()-Y           : num  -0.922 -0.983 -0.969 -0.944 -0.965 ...
 $ frequencyBodyAccelerometerJerk-mean()-Z           : num  -0.948 -0.986 -0.979 -0.975 -0.983 ...
 $ frequencyBodyAccelerometerJerk-std()-X            : num  -0.964 -0.987 -0.983 -0.98 -0.986 ...
 $ frequencyBodyAccelerometerJerk-std()-Y            : num  -0.932 -0.985 -0.971 -0.944 -0.966 ...
 $ frequencyBodyAccelerometerJerk-std()-Z            : num  -0.961 -0.989 -0.984 -0.98 -0.986 ...
 $ frequencyBodyAccelerometerJerk-meanFreq()-X       : num  0.132 0.16 0.176 0.182 0.24 ...
 $ frequencyBodyAccelerometerJerk-meanFreq()-Y       : num  0.0245 0.1212 -0.0132 0.0987 0.1957 ...
 $ frequencyBodyAccelerometerJerk-meanFreq()-Z       : num  0.0244 0.1906 0.0448 0.077 0.0917 ...
 $ frequencyBodyGyroscope-mean()-X                   : num  -0.85 -0.986 -0.97 -0.967 -0.976 ...
 $ frequencyBodyGyroscope-mean()-Y                   : num  -0.952 -0.983 -0.978 -0.972 -0.978 ...
 $ frequencyBodyGyroscope-mean()-Z                   : num  -0.909 -0.963 -0.962 -0.961 -0.963 ...
 $ frequencyBodyGyroscope-std()-X                    : num  -0.882 -0.989 -0.976 -0.975 -0.981 ...
 $ frequencyBodyGyroscope-std()-Y                    : num  -0.951 -0.982 -0.977 -0.956 -0.977 ...
 $ frequencyBodyGyroscope-std()-Z                    : num  -0.917 -0.963 -0.967 -0.966 -0.963 ...
 $ frequencyBodyGyroscope-meanFreq()-X               : num  -0.00355 0.10261 -0.08222 -0.06609 -0.02272 ...
 $ frequencyBodyGyroscope-meanFreq()-Y               : num  -0.0915 0.0423 -0.0267 -0.5269 0.0681 ...
 $ frequencyBodyGyroscope-meanFreq()-Z               : num  0.0105 0.0553 0.1477 0.1529 0.0414 ...
 $ frequencyBodyAccelerometerMagnitude-mean()        : num  -0.862 -0.975 -0.966 -0.939 -0.962 ...
 $ frequencyBodyAccelerometerMagnitude-std()         : num  -0.798 -0.975 -0.968 -0.937 -0.963 ...
 $ frequencyBodyAccelerometerMagnitude-meanFreq()    : num  0.0864 0.2663 0.237 0.2417 0.292 ...
 $ frequencyBodyAccelerometerJerkMagnitude-mean()    : num  -0.933 -0.985 -0.976 -0.962 -0.977 ...
 $ frequencyBodyAccelerometerJerkMagnitude-std()     : num  -0.922 -0.985 -0.975 -0.958 -0.976 ...
 $ frequencyBodyAccelerometerJerkMagnitude-meanFreq(): num  0.266 0.342 0.239 0.274 0.197 ...
 $ frequencyBodyGyroscopeMagnitude-mean()            : num  -0.862 -0.972 -0.965 -0.962 -0.968 ...
 $ frequencyBodyGyroscopeMagnitude-std()             : num  -0.824 -0.961 -0.955 -0.947 -0.959 ...
 $ frequencyBodyGyroscopeMagnitude-meanFreq()        : num  -0.1398 0.0186 -0.0229 -0.2599 0.1024 ...
 $ frequencyBodyGyroscopeJerkMagnitude-mean()        : num  -0.942 -0.99 -0.984 -0.984 -0.985 ...
 $ frequencyBodyGyroscopeJerkMagnitude-std()         : num  -0.933 -0.989 -0.983 -0.983 -0.983 ...
 $ frequencyBodyGyroscopeJerkMagnitude-meanFreq()    : num  0.1765 0.2648 0.1107 0.2029 0.0247 ...
```

Lets free some memory again.

```r
rm(data)
rm(data.melt)
```

## Finally store the tidy data

The prepared data is now dumped to a file called "tidyData.txt".

```r
write.table(data.tidy, "tidyData.txt", row.name = FALSE)
```

Finally clean up the remaining memory used by this script.
```r
rm(data.tidy)
```
